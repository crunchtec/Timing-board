
    <div class = "container">
      <div class = "row">
        <h1>QC Control Interface by Crunch Technologies</h1>


    <div class="row" style="min-height:600px;">
      <div  class="col-sm-12">
        <form id = "control-interface-main-switch" action = "/mainswitch" method = "POST">
          <div class = "row col-md-12 main-switch-bar text-center">
            <label>Main output: </label>
            <input id = "main-switch" type = "checkbox" data-toggle = "toggle" <%= main_switch %> data-width = "300px" name = "main_switch" <%= @interface[:main_interface_access] %> />
            <input id = "main-switch-status" type = "hidden" value = "<%= main_switch_status %>" name = "main_switch_status" />
          </div>
        </form>


        <hr/>
        <div class="col-xs-3"> <!-- required for floating -->
          <!-- Nav tabs -->
          <ul class="nav nav-tabs tabs-left">
            <li class="active"><a href="#home" data-toggle="tab">A | <%= @interface[:channel_a_delay] %> ns</a>
            </li>
            <li><a href="#profile" data-toggle="tab">TBD</a></li>
            <li><a href="#messages" data-toggle="tab">TBD</a></li>
            <li><a href="#settings" data-toggle="tab">TBD</a></li>
          </ul>
        </div>

        <div class="col-xs-9">
          <!-- Tab panes -->
          <div class="tab-content">
            <div class="tab-pane active" id="home">
            
            
        <form id = "control-interface" action = "/" method = "POST">
          <div class = "col-md-12">
            <table class = "text-center">
              <tbody>
                <tr>
                  <td>
                    <input id = "channel_a_name_custom" type="text" class="btn btn-lg" value = "<%= channel_a_name_custom %>" name = "channel_a_name_custom" <%= @interface[:main_interface_access] %> />
                  </td>
                </tr>
                <tr>
                  <td rowspan = "<%= @interface[:step_size_list].count %>">
                      <input id = "channel_a_delay_value" type="number" class="btn btn-lg" value = <%= @interface[:channel_a_delay] %> name = "channel_a_delay" <%= @interface[:main_interface_access] %> min = "<%= @interface[:channel_a_delay_min] %>" max = "<%= @interface[:channel_a_delay_max] %>" />
                      <label><%= @interface[:channel_a_delay_unit] %></label>
                  </td>
                  <td rowspan = "2">
                    <button id = "channel_a_delay_up" type="button" class="btn btn-default btn-lg" <%= @interface[:main_interface_access] %>>
                      <span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span>
                    </button>
                  </td>
                  <td>
                    <div class="radio text-left">
                      <label>
                        <input type="radio" name="step_size" id="step_size_0" value="<%= @interface[:step_size_list][0] %>" <%= "checked" if @interface[:step_size].eql?(@interface[:step_size_list][0])%>>
                        <%= @interface[:step_size_list][0] %>
                      </label>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div class="radio text-left">
                      <label>
                        <input type="radio" name="step_size" id="step_size_1" value="<%= @interface[:step_size_list][1] %>" <%= "checked" if @interface[:step_size].eql?(@interface[:step_size_list][1])%>>
                        <%= @interface[:step_size_list][1] %>
                      </label>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td rowspan = "2">
                    <button id = "channel_a_delay_down" type="button" class="btn btn-default btn-lg" <%= @interface[:main_interface_access] %>>
                      <span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span>
                    </button>
                  </td>
                  <td>
                    <div class="radio text-left">
                      <label>
                        <input type="radio" name="step_size" id="step_size_2" value="<%= @interface[:step_size_list][2] %>" <%= "checked" if @interface[:step_size].eql?(@interface[:step_size_list][2])%>>
                        <%= @interface[:step_size_list][2] %>
                      </label>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div class="radio text-left">
                      <label>
                        <input type="radio" name="step_size" id="step_size_3" value="<%= @interface[:step_size_list][3] %>" <%= "checked" if @interface[:step_size].eql?(@interface[:step_size_list][3])%>>
                        <%= @interface[:step_size_list][3] %>
                      </label>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </form>
            
            
            
            </div>
            <div class="tab-pane" id="profile">Profile Tab.</div>
            <div class="tab-pane" id="messages">Messages Tab.</div>
            <div class="tab-pane" id="settings">Settings Tab.</div>
          </div>
        </div>

        <div class="clearfix"></div>

      </div>




      <div class = "row col-md-12">
        <div class = "col-md-6">
          <form class = "form-inline" action = "/send" method = "POST">
            <div class = "form-group">
              <input class = "form-control" type='text' name='command' id = "any-command" <%= @interface[:send_command_access] %> />
            </div>
            <button class = "btn btn-default" type = "submit" <%= @interface[:send_command_access] %>>Send command</button>
          </form>
        </div>
        <div class = "col-md-6 text-right">
          <form class = "form-inline" action = "/deletehistory" method = "POST">
            <button class = "btn btn-danger" type = "submit">
              Delete command history
              <span class="badge"><%= @interface[:command_history_count] %></span>
            </button>
          </form>
        </div>
        <div class = "form-group">
          <label>Command history:</label>
          <select class = "form-control" size = "5" id = "command-history" <%= @interface[:send_command_access] %>>
            <% command_history.each do |command|%>
            <option><%= command %></option>
            <% end %>
          </select>
        </div>
      </div>
      </div>
      <div class = "row">
        <div class = "col-md-6 text-left">
          <span class = "label label-<%= @interface[:serial_port_status_label] %>"> Serial port status: <%= @interface[:serial_port_status] %></span>
          <form class = "form" action = "/retryserialport" method = "POST"  <%= @interface[:reconnect_button_show] %>>
            <button class = "serial-button btn btn-xs btn-warning" id = "reconnect-button" type = "submit">Reconnect</button>
          </form>
        </div>
        <div class = "col-md-6 text-right">
          <p> Last response from serial port: <%= @interface[:serial_response] %></p>
        </div>
      </div>
    </div>
